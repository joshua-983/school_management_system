{% extends 'base.html' %}

{% block title %}Delete Class Assignment{% endblock %}

{% block content %}
<div class="card border-danger">
    <div class="card-header bg-danger text-white">
        <h4><i class="bi bi-exclamation-triangle"></i> Confirm Deletion</h4>
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            
            <div class="alert alert-danger">
                <h5 class="alert-heading">Warning!</h5>
                <p>You are about to delete the following class assignment:</p>
                <ul class="mb-0">
                    <li><strong>Class:</strong> {{ object.get_class_level_display }}</li>
                    <li><strong>Subject:</strong> {{ object.subject.name }}</li>
                    <li><strong>Teacher:</strong> {{ object.teacher.get_full_name }}</li>
                    <li><strong>Academic Year:</strong> {{ object.academic_year }}</li>
                </ul>
            </div>
            
            <p class="text-danger"><strong>This action cannot be undone.</strong> All related data will also be removed.</p>
            
            <div class="d-flex justify-content-between mt-4">
                <!-- FIX: Redirect back to the list view instead of non-existent detail view -->
                <a href="{% url 'class_assignment_list' %}" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Cancel
                </a>
                <button type="submit" class="btn btn-danger">
                    <i class="bi bi-trash"></i> Confirm Delete
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}